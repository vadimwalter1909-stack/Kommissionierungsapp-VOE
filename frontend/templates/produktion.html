{% extends "base.html" %}

{% block content %}

{# Moderne Navigation ‚Äì √úbersicht braucht keinen Back-Button #}
{% set page_title = "Produktion ‚Äì √úbersicht" %}
{% set back_url = None %}

<nav class="app-nav">
    <div class="nav-left">
        <span class="nav-title">{{ page_title }}</span>
    </div>
</nav>


{% if tiles|length == 0 %}
    <p>Keine Produktionsdaten gefunden.</p>
{% else %}

<div class="tile-container">

    {% for tile in tiles %}

        {# -----------------------------------------
           Backend-Status ‚Üí CSS-Status umwandeln
           ----------------------------------------- #}
        {% if tile.status == "fertig" %}
            {% set status_class = "tile-komplett" %}
        {% elif tile.status == "teilweise" %}
            {% set status_class = "tile-logistik_muss" %}
        {% else %}
            {% set status_class = "tile-offen" %}
        {% endif %}

        <a href="/produktion/{{ tile.kuerzel }}" class="tile {{ status_class }}">

            <div class="tile-left">
                <h2 class="tile-title">{{ tile.kuerzel }}</h2>

                <p class="tile-info">Auftr√§ge: {{ tile.anzahl_auftraege }}</p>
                <p class="tile-info">Positionen: {{ tile.anzahl_positionen }}</p>
                <p class="tile-info">Fertig: {{ tile.fertige_positionen }}</p>
            </div>

            <div class="tile-right">
                <span class="tile-icon">üè≠</span>
            </div>

        </a>

    {% endfor %}

</div>

{% endif %}

{% endblock %}
