{% extends "base.html" %}

{% block content %}

{# Moderne Navigation – Übersicht braucht keinen Back-Button #}
{% set page_title = "Logistik – Übersicht" %}
{% set back_url = None %}

<nav class="app-nav">
    <div class="nav-left">
        <span class="nav-title">{{ page_title }}</span>
    </div>
</nav>


<!-- ---------------------------------------------------------
     LEGENDE – neue Logistik-Statuslogik
--------------------------------------------------------- -->
<div class="legend">
    <div class="legend-item">
        <span class="legend-box tile-offen"></span>
        Noch nichts zu tun
    </div>

    <div class="legend-item">
        <span class="legend-box tile-warten_auf_produktion"></span>
        Logistik fertig – wartet auf Produktion
    </div>

    <div class="legend-item">
        <span class="legend-box tile-logistik_muss"></span>
        Produktion fertig – Logistik muss arbeiten
    </div>

    <div class="legend-item">
        <span class="legend-box tile-warten_auf_auslieferung"></span>
        Alles kommissioniert – wartet auf Auslieferung
    </div>

    <div class="legend-item">
        <span class="legend-box tile-komplett"></span>
        Komplett abgeschlossen
    </div>
</div>


{% if tiles|length == 0 %}
    <p>Keine Logistikdaten gefunden.</p>
{% else %}

<div class="tile-container">

    {% for tile in tiles %}
    <a href="/logistik/{{ tile.kuerzel }}" class="tile tile-{{ tile.status }}">

        <div class="tile-left">
            <h2 class="tile-title">
                {{ tile.kuerzel }}
            </h2>

            <p class="tile-info">Positionen: {{ tile.anzahl_positionen }}</p>
            <p class="tile-info">Fertig: {{ tile.fertige_positionen }}</p>
        </div>

        <div class="tile-right">
            <span class="tile-icon">{{ tile.icon }}</span>
        </div>

    </a>
    {% endfor %}

</div>

{% endif %}

{% endblock %}
